var app=function(){"use strict";function t(){}function e(t){return t()}function r(){return Object.create(null)}function n(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t){return null==t?"":t}let u,c=!1;function s(t,e,r,n){for(;t<e;){const o=t+(e-t>>1);r(o)<=n?t=o+1:e=o}return t}function l(t,e){c?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,r=new Int32Array(e.length+1),n=new Int32Array(e.length);r[0]=-1;let o=0;for(let t=0;t<e.length;t++){const i=s(1,o+1,(t=>e[r[t]].claim_order),e[t].claim_order)-1;n[t]=r[i]+1;const a=i+1;r[a]=t,o=Math.max(a,o)}const i=[],a=[];let u=e.length-1;for(let t=r[o]+1;0!=t;t=n[t-1]){for(i.push(e[t-1]);u>=t;u--)a.push(e[u]);u--}for(;u>=0;u--)a.push(e[u]);i.reverse(),a.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,r=0;e<a.length;e++){for(;r<i.length&&a[e].claim_order>=i[r].claim_order;)r++;const n=r<i.length?i[r]:null;t.insertBefore(a[e],n)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function f(t,e,r){c&&!r?l(t,e):(e.parentNode!==t||r&&e.nextSibling!==r)&&t.insertBefore(e,r||null)}function d(t){t.parentNode.removeChild(t)}function h(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function v(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function b(){return p(" ")}function y(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function g(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function _(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function m(t,e,r){t.classList[r?"add":"remove"](e)}function j(t){u=t}const x=[],$=[],w=[],A=[],O=Promise.resolve();let k=!1;function C(t){w.push(t)}let E=!1;const P=new Set;function S(){if(!E){E=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];j(e),z(e.$$)}for(j(null),x.length=0;$.length;)$.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];P.has(e)||(P.add(e),e())}w.length=0}while(x.length);for(;A.length;)A.pop()();k=!1,E=!1,P.clear()}}function z(t){if(null!==t.fragment){t.update(),n(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const B=new Set;let M;function T(){M={r:0,c:[],p:M}}function D(){M.r||n(M.c),M=M.p}function N(t,e){t&&t.i&&(B.delete(t),t.i(e))}function F(t,e,r,n){if(t&&t.o){if(B.has(t))return;B.add(t),M.c.push((()=>{B.delete(t),n&&(r&&t.d(1),n())})),t.o(e)}}function I(t,r,i,a){const{fragment:u,on_mount:c,on_destroy:s,after_update:l}=t.$$;u&&u.m(r,i),a||C((()=>{const r=c.map(e).filter(o);s?s.push(...r):n(r),t.$$.on_mount=[]})),l.forEach(C)}function R(t,e){const r=t.$$;null!==r.fragment&&(n(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function L(t,e){-1===t.$$.dirty[0]&&(x.push(t),k||(k=!0,O.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(e,o,i,a,s,l,f=[-1]){const h=u;j(e);const v=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:o.context||[]),callbacks:r(),dirty:f,skip_bound:!1};let p=!1;if(v.ctx=i?i(e,o.props||{},((t,r,...n)=>{const o=n.length?n[0]:r;return v.ctx&&s(v.ctx[t],v.ctx[t]=o)&&(!v.skip_bound&&v.bound[t]&&v.bound[t](o),p&&L(e,t)),r})):[],v.update(),p=!0,n(v.before_update),v.fragment=!!a&&a(v.ctx),o.target){if(o.hydrate){c=!0;const t=function(t){return Array.from(t.childNodes)}(o.target);v.fragment&&v.fragment.l(t),t.forEach(d)}else v.fragment&&v.fragment.c();o.intro&&N(e.$$.fragment),I(e,o.target,o.anchor,o.customElement),c=!1,S()}j(h)}class q{$destroy(){R(this,1),this.$destroy=t}$on(t,e){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const V=(t,e)=>({x:t,y:e}),W=t=>t<0?-t:t,Z=[V(1,0),V(0,1),V(-1,0),V(0,-1)],G={isPositive:t=>t.x>=0&&t.y>=0,isZero:t=>0===t.x&&0===t.y,area:t=>t.x*t.y,getPointsAround:t=>{const e=[-1,0,1],r=new Array(9);return e.forEach((n=>{e.forEach((e=>{const o=V(n,e);G.isZero(o)||r.push(G.add(t,o))}))})),r},getAdjacentPoints:t=>Z.map((e=>G.add(t,e))),add:(t,e)=>V(t.x+e.x,t.y+e.y),subtract:(t,e)=>V(t.x-e.x,t.y-e.y),abs:t=>V(W(t.x),W(t.y)),isAround:(t,e)=>{const r=G.abs(G.subtract(t,e));return G.isInBounds(r,V(1,1))},isInBounds:(t,e)=>G.isPositive(t)&&t.x<e.x&&t.y<e.y};var H=Math.ceil,J=Math.max;var K=function(t,e,r,n){for(var o=-1,i=J(H((e-t)/(r||1)),0),a=Array(i);i--;)a[n?i:++o]=t,t+=r;return a};var Q=function(t,e){return t===e||t!=t&&e!=e},X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Y(t){var e={exports:{}};return t(e,e.exports),e.exports}var tt="object"==typeof X&&X&&X.Object===Object&&X,et="object"==typeof self&&self&&self.Object===Object&&self,rt=tt||et||Function("return this")(),nt=rt.Symbol,ot=Object.prototype,it=ot.hasOwnProperty,at=ot.toString,ut=nt?nt.toStringTag:void 0;var ct=function(t){var e=it.call(t,ut),r=t[ut];try{t[ut]=void 0;var n=!0}catch(t){}var o=at.call(t);return n&&(e?t[ut]=r:delete t[ut]),o},st=Object.prototype.toString;var lt=function(t){return st.call(t)},ft=nt?nt.toStringTag:void 0;var dt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ft&&ft in Object(t)?ct(t):lt(t)};var ht=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var vt=function(t){if(!ht(t))return!1;var e=dt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var pt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var bt=function(t){return null!=t&&pt(t.length)&&!vt(t)},yt=/^(?:0|[1-9]\d*)$/;var gt=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&yt.test(t))&&t>-1&&t%1==0&&t<e};var _t=function(t,e,r){if(!ht(r))return!1;var n=typeof e;return!!("number"==n?bt(r)&&gt(e,r.length):"string"==n&&e in r)&&Q(r[e],t)},mt=/\s/;var jt=function(t){for(var e=t.length;e--&&mt.test(t.charAt(e)););return e},xt=/^\s+/;var $t=function(t){return t?t.slice(0,jt(t)+1).replace(xt,""):t};var wt=function(t){return null!=t&&"object"==typeof t};var At=function(t){return"symbol"==typeof t||wt(t)&&"[object Symbol]"==dt(t)},Ot=/^[-+]0x[0-9a-f]+$/i,kt=/^0b[01]+$/i,Ct=/^0o[0-7]+$/i,Et=parseInt;var Pt=function(t){if("number"==typeof t)return t;if(At(t))return NaN;if(ht(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ht(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$t(t);var r=kt.test(t);return r||Ct.test(t)?Et(t.slice(2),r?2:8):Ot.test(t)?NaN:+t},St=1/0;var zt=function(t){return t?(t=Pt(t))===St||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var Bt=function(t){return function(e,r,n){return n&&"number"!=typeof n&&_t(e,r,n)&&(r=n=void 0),e=zt(e),void 0===r?(r=e,e=0):r=zt(r),n=void 0===n?e<r?1:-1:zt(n),K(e,r,n,t)}}(),Mt=Math.floor,Tt=Math.random;var Dt=function(t,e){return t+Mt(Tt()*(e-t+1))},Nt=parseFloat,Ft=Math.min,It=Math.random;var Rt=function(t,e,r){if(r&&"boolean"!=typeof r&&_t(t,e,r)&&(e=r=void 0),void 0===r&&("boolean"==typeof e?(r=e,e=void 0):"boolean"==typeof t&&(r=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=zt(t),void 0===e?(e=t,t=0):e=zt(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var o=It();return Ft(t+o*(e-t+Nt("1e-"+((o+"").length-1))),e)}return Dt(t,e)};var Lt=function(){this.__data__=[],this.size=0};var Ut=function(t,e){for(var r=t.length;r--;)if(Q(t[r][0],e))return r;return-1},qt=Array.prototype.splice;var Vt=function(t){var e=this.__data__,r=Ut(e,t);return!(r<0)&&(r==e.length-1?e.pop():qt.call(e,r,1),--this.size,!0)};var Wt=function(t){var e=this.__data__,r=Ut(e,t);return r<0?void 0:e[r][1]};var Zt=function(t){return Ut(this.__data__,t)>-1};var Gt=function(t,e){var r=this.__data__,n=Ut(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Ht(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ht.prototype.clear=Lt,Ht.prototype.delete=Vt,Ht.prototype.get=Wt,Ht.prototype.has=Zt,Ht.prototype.set=Gt;var Jt=Ht;var Kt=function(){this.__data__=new Jt,this.size=0};var Qt=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var Xt=function(t){return this.__data__.get(t)};var Yt,te=function(t){return this.__data__.has(t)},ee=rt["__core-js_shared__"],re=(Yt=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||""))?"Symbol(src)_1."+Yt:"";var ne=function(t){return!!re&&re in t},oe=Function.prototype.toString;var ie=function(t){if(null!=t){try{return oe.call(t)}catch(t){}try{return t+""}catch(t){}}return""},ae=/^\[object .+?Constructor\]$/,ue=Function.prototype,ce=Object.prototype,se=ue.toString,le=ce.hasOwnProperty,fe=RegExp("^"+se.call(le).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var de=function(t){return!(!ht(t)||ne(t))&&(vt(t)?fe:ae).test(ie(t))};var he=function(t,e){return null==t?void 0:t[e]};var ve=function(t,e){var r=he(t,e);return de(r)?r:void 0},pe=ve(rt,"Map"),be=ve(Object,"create");var ye=function(){this.__data__=be?be(null):{},this.size=0};var ge=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},_e=Object.prototype.hasOwnProperty;var me=function(t){var e=this.__data__;if(be){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return _e.call(e,t)?e[t]:void 0},je=Object.prototype.hasOwnProperty;var xe=function(t){var e=this.__data__;return be?void 0!==e[t]:je.call(e,t)};var $e=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=be&&void 0===e?"__lodash_hash_undefined__":e,this};function we(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}we.prototype.clear=ye,we.prototype.delete=ge,we.prototype.get=me,we.prototype.has=xe,we.prototype.set=$e;var Ae=we;var Oe=function(){this.size=0,this.__data__={hash:new Ae,map:new(pe||Jt),string:new Ae}};var ke=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Ce=function(t,e){var r=t.__data__;return ke(e)?r["string"==typeof e?"string":"hash"]:r.map};var Ee=function(t){var e=Ce(this,t).delete(t);return this.size-=e?1:0,e};var Pe=function(t){return Ce(this,t).get(t)};var Se=function(t){return Ce(this,t).has(t)};var ze=function(t,e){var r=Ce(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Be(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Be.prototype.clear=Oe,Be.prototype.delete=Ee,Be.prototype.get=Pe,Be.prototype.has=Se,Be.prototype.set=ze;var Me=Be;var Te=function(t,e){var r=this.__data__;if(r instanceof Jt){var n=r.__data__;if(!pe||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Me(n)}return r.set(t,e),this.size=r.size,this};function De(t){var e=this.__data__=new Jt(t);this.size=e.size}De.prototype.clear=Kt,De.prototype.delete=Qt,De.prototype.get=Xt,De.prototype.has=te,De.prototype.set=Te;var Ne=De;var Fe=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var Ie=function(t){return this.__data__.has(t)};function Re(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Me;++e<r;)this.add(t[e])}Re.prototype.add=Re.prototype.push=Fe,Re.prototype.has=Ie;var Le=Re;var Ue=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var qe=function(t,e){return t.has(e)};var Ve=function(t,e,r,n,o,i){var a=1&r,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,d=!0,h=2&r?new Le:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var v=t[f],p=e[f];if(n)var b=a?n(p,v,f,e,t,i):n(v,p,f,t,e,i);if(void 0!==b){if(b)continue;d=!1;break}if(h){if(!Ue(e,(function(t,e){if(!qe(h,e)&&(v===t||o(v,t,r,n,i)))return h.push(e)}))){d=!1;break}}else if(v!==p&&!o(v,p,r,n,i)){d=!1;break}}return i.delete(t),i.delete(e),d},We=rt.Uint8Array;var Ze=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var Ge=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},He=nt?nt.prototype:void 0,Je=He?He.valueOf:void 0;var Ke=function(t,e,r,n,o,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new We(t),new We(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Q(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Ze;case"[object Set]":var c=1&n;if(u||(u=Ge),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;n|=2,a.set(t,e);var l=Ve(u(t),u(e),n,o,i,a);return a.delete(t),l;case"[object Symbol]":if(Je)return Je.call(t)==Je.call(e)}return!1};var Qe=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Xe=Array.isArray;var Ye=function(t,e,r){var n=e(t);return Xe(t)?n:Qe(n,r(t))};var tr=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i};var er=function(){return[]},rr=Object.prototype.propertyIsEnumerable,nr=Object.getOwnPropertySymbols,or=nr?function(t){return null==t?[]:(t=Object(t),tr(nr(t),(function(e){return rr.call(t,e)})))}:er;var ir=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var ar=function(t){return wt(t)&&"[object Arguments]"==dt(t)},ur=Object.prototype,cr=ur.hasOwnProperty,sr=ur.propertyIsEnumerable,lr=ar(function(){return arguments}())?ar:function(t){return wt(t)&&cr.call(t,"callee")&&!sr.call(t,"callee")};var fr=function(){return!1},dr=Y((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?rt.Buffer:void 0,i=(o?o.isBuffer:void 0)||fr;t.exports=i})),hr={};hr["[object Float32Array]"]=hr["[object Float64Array]"]=hr["[object Int8Array]"]=hr["[object Int16Array]"]=hr["[object Int32Array]"]=hr["[object Uint8Array]"]=hr["[object Uint8ClampedArray]"]=hr["[object Uint16Array]"]=hr["[object Uint32Array]"]=!0,hr["[object Arguments]"]=hr["[object Array]"]=hr["[object ArrayBuffer]"]=hr["[object Boolean]"]=hr["[object DataView]"]=hr["[object Date]"]=hr["[object Error]"]=hr["[object Function]"]=hr["[object Map]"]=hr["[object Number]"]=hr["[object Object]"]=hr["[object RegExp]"]=hr["[object Set]"]=hr["[object String]"]=hr["[object WeakMap]"]=!1;var vr=function(t){return wt(t)&&pt(t.length)&&!!hr[dt(t)]};var pr=function(t){return function(e){return t(e)}},br=Y((function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&tt.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i})),yr=br&&br.isTypedArray,gr=yr?pr(yr):vr,_r=Object.prototype.hasOwnProperty;var mr=function(t,e){var r=Xe(t),n=!r&&lr(t),o=!r&&!n&&dr(t),i=!r&&!n&&!o&&gr(t),a=r||n||o||i,u=a?ir(t.length,String):[],c=u.length;for(var s in t)!e&&!_r.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||gt(s,c))||u.push(s);return u},jr=Object.prototype;var xr=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||jr)};var $r=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),wr=Object.prototype.hasOwnProperty;var Ar=function(t){if(!xr(t))return $r(t);var e=[];for(var r in Object(t))wr.call(t,r)&&"constructor"!=r&&e.push(r);return e};var Or=function(t){return bt(t)?mr(t):Ar(t)};var kr=function(t){return Ye(t,Or,or)},Cr=Object.prototype.hasOwnProperty;var Er=function(t,e,r,n,o,i){var a=1&r,u=kr(t),c=u.length;if(c!=kr(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:Cr.call(e,l)))return!1}var f=i.get(t),d=i.get(e);if(f&&d)return f==e&&d==t;var h=!0;i.set(t,e),i.set(e,t);for(var v=a;++s<c;){var p=t[l=u[s]],b=e[l];if(n)var y=a?n(b,p,l,e,t,i):n(p,b,l,t,e,i);if(!(void 0===y?p===b||o(p,b,r,n,i):y)){h=!1;break}v||(v="constructor"==l)}if(h&&!v){var g=t.constructor,_=e.constructor;g==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(h=!1)}return i.delete(t),i.delete(e),h},Pr=ve(rt,"DataView"),Sr=ve(rt,"Promise"),zr=ve(rt,"Set"),Br=ve(rt,"WeakMap"),Mr="[object Map]",Tr="[object Promise]",Dr="[object Set]",Nr="[object WeakMap]",Fr="[object DataView]",Ir=ie(Pr),Rr=ie(pe),Lr=ie(Sr),Ur=ie(zr),qr=ie(Br),Vr=dt;(Pr&&Vr(new Pr(new ArrayBuffer(1)))!=Fr||pe&&Vr(new pe)!=Mr||Sr&&Vr(Sr.resolve())!=Tr||zr&&Vr(new zr)!=Dr||Br&&Vr(new Br)!=Nr)&&(Vr=function(t){var e=dt(t),r="[object Object]"==e?t.constructor:void 0,n=r?ie(r):"";if(n)switch(n){case Ir:return Fr;case Rr:return Mr;case Lr:return Tr;case Ur:return Dr;case qr:return Nr}return e});var Wr=Vr,Zr="[object Arguments]",Gr="[object Array]",Hr="[object Object]",Jr=Object.prototype.hasOwnProperty;var Kr=function(t,e,r,n,o,i){var a=Xe(t),u=Xe(e),c=a?Gr:Wr(t),s=u?Gr:Wr(e),l=(c=c==Zr?Hr:c)==Hr,f=(s=s==Zr?Hr:s)==Hr,d=c==s;if(d&&dr(t)){if(!dr(e))return!1;a=!0,l=!1}if(d&&!l)return i||(i=new Ne),a||gr(t)?Ve(t,e,r,n,o,i):Ke(t,e,c,r,n,o,i);if(!(1&r)){var h=l&&Jr.call(t,"__wrapped__"),v=f&&Jr.call(e,"__wrapped__");if(h||v){var p=h?t.value():t,b=v?e.value():e;return i||(i=new Ne),o(p,b,r,n,i)}}return!!d&&(i||(i=new Ne),Er(t,e,r,n,o,i))};var Qr=function t(e,r,n,o,i){return e===r||(null==e||null==r||!wt(e)&&!wt(r)?e!=e&&r!=r:Kr(e,r,n,o,t,i))};var Xr=function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=r[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new Ne;if(n)var d=n(s,l,c,t,e,f);if(!(void 0===d?Qr(l,s,3,n,f):d))return!1}}return!0};var Yr=function(t){return t==t&&!ht(t)};var tn=function(t){for(var e=Or(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Yr(o)]}return e};var en=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}};var rn=function(t){var e=tn(t);return 1==e.length&&e[0][2]?en(e[0][0],e[0][1]):function(r){return r===t||Xr(r,t,e)}},nn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,on=/^\w*$/;var an=function(t,e){if(Xe(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!At(t))||(on.test(t)||!nn.test(t)||null!=e&&t in Object(e))};function un(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(un.Cache||Me),r}un.Cache=Me;var cn=un;var sn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ln=/\\(\\)?/g,fn=function(t){var e=cn(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(sn,(function(t,r,n,o){e.push(n?o.replace(ln,"$1"):r||t)})),e}));var dn=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},hn=nt?nt.prototype:void 0,vn=hn?hn.toString:void 0;var pn=function t(e){if("string"==typeof e)return e;if(Xe(e))return dn(e,t)+"";if(At(e))return vn?vn.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r};var bn=function(t){return null==t?"":pn(t)};var yn=function(t,e){return Xe(t)?t:an(t,e)?[t]:fn(bn(t))};var gn=function(t){if("string"==typeof t||At(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var _n=function(t,e){for(var r=0,n=(e=yn(e,t)).length;null!=t&&r<n;)t=t[gn(e[r++])];return r&&r==n?t:void 0};var mn=function(t,e,r){var n=null==t?void 0:_n(t,e);return void 0===n?r:n};var jn=function(t,e){return null!=t&&e in Object(t)};var xn=function(t,e,r){for(var n=-1,o=(e=yn(e,t)).length,i=!1;++n<o;){var a=gn(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&pt(o)&&gt(a,o)&&(Xe(t)||lr(t))};var $n=function(t,e){return null!=t&&xn(t,e,jn)};var wn=function(t,e){return an(t)&&Yr(e)?en(gn(t),e):function(r){var n=mn(r,t);return void 0===n&&n===e?$n(r,t):Qr(e,n,3)}};var An=function(t){return t};var On=function(t){return function(e){return null==e?void 0:e[t]}};var kn=function(t){return function(e){return _n(e,t)}};var Cn=function(t){return an(t)?On(gn(t)):kn(t)};var En=function(t){return"function"==typeof t?t:null==t?An:"object"==typeof t?Xe(t)?wn(t[0],t[1]):rn(t):Cn(t)};var Pn=function(t,e){for(var r,n=-1,o=t.length;++n<o;){var i=e(t[n]);void 0!==i&&(r=void 0===r?i:r+i)}return r};const Sn={range:Bt,random:Rt,sumBy:function(t,e){return t&&t.length?Pn(t,En(e)):0}},zn=t=>!t.bomb&&!t.flagged,Bn=t=>t.flagged?"🚩️":t.explored?t.bomb?"💣":t.bombsAround>0?t.bombsAround+"":"":"";class Mn{constructor(t,e){if(this.intToPoint=t=>{const e=t%this.nCells;return{y:Math.floor(e/this.dimensions.x),x:e%this.dimensions.x}},this.inBounds=t=>G.isInBounds(t,this.dimensions),this.populateNumbers=()=>{const t=t=>this.getCell(t).bomb,e=e=>this.inBounds(e)&&t(e);this.matrix.forEach((t=>{t.forEach((t=>{t.bomb||(t.bombsAround=G.getPointsAround(t.p).filter(e).length)}))}))},this.quickStart=()=>{let t=Sn.random(this.nCells),e=!0;for(;e;){const r=this.intToPoint(t),n=this.getCell(r);zn(n)&&0===n.bombsAround?(this.discover(n),e=!1):t+=1}},this.autoDiscoverFrom=t=>{this.getCellsAround(t).forEach((t=>{!t.explored&&zn(t)&&(t.explored=!0,0===t.bombsAround&&this.autoDiscoverFrom(t))}))},this.getCell=t=>this.matrix[t.y][t.x],this.toggleFlag=t=>{t.flagged=!t.flagged},this.getCellsAround=t=>G.getPointsAround(t.p).filter(this.inBounds).map((t=>this.getCell(t))),this.exploreAround=t=>{if(t.explored&&t.bombsAround){const e=this.getCellsAround(t);Sn.sumBy(e,(t=>t.flagged?1:0))===t.bombsAround&&e.forEach((t=>{t.explored||t.flagged||this.discover(t)}))}},!G.isPositive(t))throw new Error("Dimensions must be positive");if(e<0)throw new Error("Number of bombs must be positive");if(e>=G.area(t)/3)throw new Error("Too many bombs");this.dimensions=t,this.nCells=G.area(this.dimensions),this.bombs=e,this.started=!1,this.gameOver=!1,this.buildMatrix(),this.initBombs(),this.populateNumbers()}buildMatrix(){this.matrix=Sn.range(this.dimensions.y).map((t=>Sn.range(this.dimensions.x).map((e=>({bomb:!1,explode:!1,bombsAround:0,explored:!1,flagged:!1,p:V(e,t)})))))}initBombs(){let t=this.bombs,e=0;for(;0!==t;){e+=Sn.random(97);const r=this.intToPoint(e),n=this.matrix[r.y][r.x];n.bomb||(n.bomb=!0,t-=1)}}discover(t){this.gameOver||(this.started=!0,t.explored=!0,t.bomb?(t.explode=!0,this.gameOver=!0):zn(t)&&0===t.bombsAround&&this.autoDiscoverFrom(t))}}function Tn(e){let r,o,i,u,c,s,h;return{c(){r=v("td"),o=p(e[1]),i=b(),u=v("div"),g(u,"class","bubble svelte-1cc6c2x"),m(u,"hidden",e[0].explored),g(r,"class",c=a(`container number-${e[1]}`)+" svelte-1cc6c2x"),m(r,"explosion",e[0].explode)},m(t,n){f(t,r,n),l(r,o),l(r,i),l(r,u),s||(h=[y(r,"click",e[2]),y(r,"dblclick",e[4]),y(r,"contextmenu",e[3])],s=!0)},p(t,[e]){2&e&&_(o,t[1]),1&e&&m(u,"hidden",t[0].explored),2&e&&c!==(c=a(`container number-${t[1]}`)+" svelte-1cc6c2x")&&g(r,"class",c),3&e&&m(r,"explosion",t[0].explode)},i:t,o:t,d(t){t&&d(r),s=!1,n(h)}}}function Dn(t,e,r){let n,{data:o}=e,{onClick:i}=e,{onRightClick:a}=e,{onDoubleClick:u}=e;return t.$$set=t=>{"data"in t&&r(0,o=t.data),"onClick"in t&&r(5,i=t.onClick),"onRightClick"in t&&r(6,a=t.onRightClick),"onDoubleClick"in t&&r(7,u=t.onDoubleClick)},t.$$.update=()=>{1&t.$$.dirty&&r(1,n=Bn(o))},[o,n,()=>{i(o),r(0,o)},t=>{t.preventDefault(),a(o)},()=>{u(o)},i,a,u]}class Nn extends q{constructor(t){super(),U(this,t,Dn,Tn,i,{data:0,onClick:5,onRightClick:6,onDoubleClick:7})}}function Fn(t,e,r){const n=t.slice();return n[7]=e[r],n}function In(t,e,r){const n=t.slice();return n[10]=e[r],n}function Rn(t){let e,r;return e=new Nn({props:{data:t[10],onClick:t[3],onRightClick:t[5],onDoubleClick:t[6]}}),{c(){var t;(t=e.$$.fragment)&&t.c()},m(t,n){I(e,t,n),r=!0},p(t,r){const n={};2&r&&(n.data=t[10]),e.$set(n)},i(t){r||(N(e.$$.fragment,t),r=!0)},o(t){F(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Ln(t){let e,r,n,o=t[7],i=[];for(let e=0;e<o.length;e+=1)i[e]=Rn(In(t,o,e));const a=t=>F(i[t],1,1,(()=>{i[t]=null}));return{c(){e=v("tr");for(let t=0;t<i.length;t+=1)i[t].c();r=b()},m(t,o){f(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);l(e,r),n=!0},p(t,n){if(106&n){let u;for(o=t[7],u=0;u<o.length;u+=1){const a=In(t,o,u);i[u]?(i[u].p(a,n),N(i[u],1)):(i[u]=Rn(a),i[u].c(),N(i[u],1),i[u].m(e,r))}for(T(),u=o.length;u<i.length;u+=1)a(u);D()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)N(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)F(i[t]);n=!1},d(t){t&&d(e),h(i,t)}}}function Un(t){let e,r,n,o,i,a,u,c,s,j,x,$,w,A,O,k,C,E,P=t[1].matrix,S=[];for(let e=0;e<P.length;e+=1)S[e]=Ln(Fn(t,P,e));const z=t=>F(S[t],1,1,(()=>{S[t]=null}));return{c(){e=v("main"),r=v("div"),n=v("h1"),o=p("Hello "),i=p(t[0]),a=p("!"),u=b(),c=v("button"),c.textContent="Start",s=b(),j=v("span"),x=p(t[2]),$=b(),w=v("div"),A=v("table"),O=v("tbody");for(let t=0;t<S.length;t+=1)S[t].c();g(n,"class","svelte-10i6a58"),g(c,"class","start svelte-10i6a58"),m(c,"hidden",t[1].started),g(j,"class","face svelte-10i6a58"),m(j,"hidden",!t[1].started),g(r,"class","row svelte-10i6a58"),g(A,"class","table svelte-10i6a58"),g(w,"class","app svelte-10i6a58"),g(e,"class","svelte-10i6a58")},m(d,h){f(d,e,h),l(e,r),l(r,n),l(n,o),l(n,i),l(n,a),l(r,u),l(r,c),l(r,s),l(r,j),l(j,x),l(e,$),l(e,w),l(w,A),l(A,O);for(let t=0;t<S.length;t+=1)S[t].m(O,null);k=!0,C||(E=y(c,"click",t[4]),C=!0)},p(t,[e]){if((!k||1&e)&&_(i,t[0]),2&e&&m(c,"hidden",t[1].started),(!k||4&e)&&_(x,t[2]),2&e&&m(j,"hidden",!t[1].started),106&e){let r;for(P=t[1].matrix,r=0;r<P.length;r+=1){const n=Fn(t,P,r);S[r]?(S[r].p(n,e),N(S[r],1)):(S[r]=Ln(n),S[r].c(),N(S[r],1),S[r].m(O,null))}for(T(),r=P.length;r<S.length;r+=1)z(r);D()}},i(t){if(!k){for(let t=0;t<P.length;t+=1)N(S[t]);k=!0}},o(t){S=S.filter(Boolean);for(let t=0;t<S.length;t+=1)F(S[t]);k=!1},d(t){t&&d(e),h(S,t),C=!1,E()}}}function qn(t,e,r){let n,{name:o}=e,i=new Mn(V(30,16),99);return t.$$set=t=>{"name"in t&&r(0,o=t.name)},t.$$.update=()=>{2&t.$$.dirty&&r(2,n=i.gameOver?"😭":"😃")},[o,i,n,t=>{i.discover(t),r(1,i)},()=>{i.quickStart(),r(1,i)},t=>{t.explored||i.toggleFlag(t),r(1,i)},t=>{i.exploreAround(t),r(1,i)}]}return new class extends q{constructor(t){super(),U(this,t,qn,Un,i,{name:0})}}({target:document.body,props:{name:"minesweeper"}})}();
//# sourceMappingURL=bundle.js.map
