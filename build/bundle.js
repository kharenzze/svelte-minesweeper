var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function u(t,e,n,r,o,i,u){const c=function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(e,r,o,i);if(c){const o=a(e,n,r,u);t.p(o,c)}}function c(t){return null==t?"":t}let s,l=!1;function f(t,e,n,r){for(;t<e;){const o=t+(e-t>>1);n(o)<=r?t=o+1:e=o}return t}function h(t,e){l?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let o=0;for(let t=0;t<e.length;t++){const i=f(1,o+1,(t=>e[n[t]].claim_order),e[t].claim_order)-1;r[t]=n[i]+1;const a=i+1;n[a]=t,o=Math.max(a,o)}const i=[],a=[];let u=e.length-1;for(let t=n[o]+1;0!=t;t=r[t-1]){for(i.push(e[t-1]);u>=t;u--)a.push(e[u]);u--}for(;u>=0;u--)a.push(e[u]);i.reverse(),a.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<a.length;e++){for(;n<i.length&&a[e].claim_order>=i[n].claim_order;)n++;const r=n<i.length?i[n]:null;t.insertBefore(a[e],r)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function d(t,e,n){l&&!n?h(t,e):(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function y(){return b(" ")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e,n){t.classList[n?"add":"remove"](e)}function j(t){s=t}function w(){if(!s)throw new Error("Function called outside component initialization");return s}const A=[],O=[],C=[],k=[],E=Promise.resolve();let S=!1;function z(t){C.push(t)}let P=!1;const M=new Set;function B(){if(!P){P=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];j(e),N(e.$$)}for(j(null),A.length=0;O.length;)O.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];M.has(e)||(M.add(e),e())}C.length=0}while(A.length);for(;k.length;)k.pop()();S=!1,P=!1,M.clear()}}function N(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const T=new Set;let D;function F(){D={r:0,c:[],p:D}}function I(){D.r||r(D.c),D=D.p}function q(t,e){t&&t.i&&(T.delete(t),t.i(e))}function W(t,e,n,r){if(t&&t.o){if(T.has(t))return;T.add(t),D.c.push((()=>{T.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function L(t){t&&t.c()}function R(t,n,i,a){const{fragment:u,on_mount:c,on_destroy:s,after_update:l}=t.$$;u&&u.m(n,i),a||z((()=>{const n=c.map(e).filter(o);s?s.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(z)}function G(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&(A.push(t),S||(S=!0,E.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(e,o,i,a,u,c,f=[-1]){const h=s;j(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:o.context||[]),callbacks:n(),dirty:f,skip_bound:!1};let p=!1;if(d.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&u(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&U(e,t)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),o.target){if(o.hydrate){l=!0;const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();o.intro&&q(e.$$.fragment),R(e,o.target,o.anchor,o.customElement),l=!1,B()}j(h)}class H{$destroy(){G(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Z=(t,e)=>({x:t,y:e}),J=t=>t<0?-t:t,K=[Z(1,0),Z(0,1),Z(-1,0),Z(0,-1)],Q={isPositive:t=>t.x>=0&&t.y>=0,isZero:t=>0===t.x&&0===t.y,area:t=>t.x*t.y,getPointsAround:t=>{const e=[-1,0,1],n=new Array(9);return e.forEach((r=>{e.forEach((e=>{const o=Z(r,e);Q.isZero(o)||n.push(Q.add(t,o))}))})),n},getAdjacentPoints:t=>K.map((e=>Q.add(t,e))),add:(t,e)=>Z(t.x+e.x,t.y+e.y),subtract:(t,e)=>Z(t.x-e.x,t.y-e.y),abs:t=>Z(J(t.x),J(t.y)),isAround:(t,e)=>{const n=Q.abs(Q.subtract(t,e));return Q.isInBounds(n,Z(1,1))},isInBounds:(t,e)=>Q.isPositive(t)&&t.x<e.x&&t.y<e.y};var X=Math.ceil,Y=Math.max;var tt=function(t,e,n,r){for(var o=-1,i=Y(X((e-t)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=t,t+=n;return a};var et=function(t,e){return t===e||t!=t&&e!=e},nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function rt(t){var e={exports:{}};return t(e,e.exports),e.exports}var ot="object"==typeof nt&&nt&&nt.Object===Object&&nt,it="object"==typeof self&&self&&self.Object===Object&&self,at=ot||it||Function("return this")(),ut=at.Symbol,ct=Object.prototype,st=ct.hasOwnProperty,lt=ct.toString,ft=ut?ut.toStringTag:void 0;var ht=function(t){var e=st.call(t,ft),n=t[ft];try{t[ft]=void 0;var r=!0}catch(t){}var o=lt.call(t);return r&&(e?t[ft]=n:delete t[ft]),o},dt=Object.prototype.toString;var vt=function(t){return dt.call(t)},pt=ut?ut.toStringTag:void 0;var gt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":pt&&pt in Object(t)?ht(t):vt(t)};var bt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var yt=function(t){if(!bt(t))return!1;var e=gt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var mt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var _t=function(t){return null!=t&&mt(t.length)&&!yt(t)},$t=/^(?:0|[1-9]\d*)$/;var xt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&$t.test(t))&&t>-1&&t%1==0&&t<e};var jt=function(t,e,n){if(!bt(n))return!1;var r=typeof e;return!!("number"==r?_t(n)&&xt(e,n.length):"string"==r&&e in n)&&et(n[e],t)},wt=/\s/;var At=function(t){for(var e=t.length;e--&&wt.test(t.charAt(e)););return e},Ot=/^\s+/;var Ct=function(t){return t?t.slice(0,At(t)+1).replace(Ot,""):t};var kt=function(t){return null!=t&&"object"==typeof t};var Et=function(t){return"symbol"==typeof t||kt(t)&&"[object Symbol]"==gt(t)},St=/^[-+]0x[0-9a-f]+$/i,zt=/^0b[01]+$/i,Pt=/^0o[0-7]+$/i,Mt=parseInt;var Bt=function(t){if("number"==typeof t)return t;if(Et(t))return NaN;if(bt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=bt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ct(t);var n=zt.test(t);return n||Pt.test(t)?Mt(t.slice(2),n?2:8):St.test(t)?NaN:+t},Nt=1/0;var Tt=function(t){return t?(t=Bt(t))===Nt||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var Dt=function(t){return function(e,n,r){return r&&"number"!=typeof r&&jt(e,n,r)&&(n=r=void 0),e=Tt(e),void 0===n?(n=e,e=0):n=Tt(n),r=void 0===r?e<n?1:-1:Tt(r),tt(e,n,r,t)}}(),Ft=Math.floor,It=Math.random;var qt=function(t,e){return t+Ft(It()*(e-t+1))},Wt=parseFloat,Lt=Math.min,Rt=Math.random;var Gt=function(t,e,n){if(n&&"boolean"!=typeof n&&jt(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Tt(t),void 0===e?(e=t,t=0):e=Tt(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=Rt();return Lt(t+o*(e-t+Wt("1e-"+((o+"").length-1))),e)}return qt(t,e)};var Ut=function(){this.__data__=[],this.size=0};var Vt=function(t,e){for(var n=t.length;n--;)if(et(t[n][0],e))return n;return-1},Ht=Array.prototype.splice;var Zt=function(t){var e=this.__data__,n=Vt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ht.call(e,n,1),--this.size,!0)};var Jt=function(t){var e=this.__data__,n=Vt(e,t);return n<0?void 0:e[n][1]};var Kt=function(t){return Vt(this.__data__,t)>-1};var Qt=function(t,e){var n=this.__data__,r=Vt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xt.prototype.clear=Ut,Xt.prototype.delete=Zt,Xt.prototype.get=Jt,Xt.prototype.has=Kt,Xt.prototype.set=Qt;var Yt=Xt;var te=function(){this.__data__=new Yt,this.size=0};var ee=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var ne=function(t){return this.__data__.get(t)};var re,oe=function(t){return this.__data__.has(t)},ie=at["__core-js_shared__"],ae=(re=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||""))?"Symbol(src)_1."+re:"";var ue=function(t){return!!ae&&ae in t},ce=Function.prototype.toString;var se=function(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""},le=/^\[object .+?Constructor\]$/,fe=Function.prototype,he=Object.prototype,de=fe.toString,ve=he.hasOwnProperty,pe=RegExp("^"+de.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ge=function(t){return!(!bt(t)||ue(t))&&(yt(t)?pe:le).test(se(t))};var be=function(t,e){return null==t?void 0:t[e]};var ye=function(t,e){var n=be(t,e);return ge(n)?n:void 0},me=ye(at,"Map"),_e=ye(Object,"create");var $e=function(){this.__data__=_e?_e(null):{},this.size=0};var xe=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},je=Object.prototype.hasOwnProperty;var we=function(t){var e=this.__data__;if(_e){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return je.call(e,t)?e[t]:void 0},Ae=Object.prototype.hasOwnProperty;var Oe=function(t){var e=this.__data__;return _e?void 0!==e[t]:Ae.call(e,t)};var Ce=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_e&&void 0===e?"__lodash_hash_undefined__":e,this};function ke(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ke.prototype.clear=$e,ke.prototype.delete=xe,ke.prototype.get=we,ke.prototype.has=Oe,ke.prototype.set=Ce;var Ee=ke;var Se=function(){this.size=0,this.__data__={hash:new Ee,map:new(me||Yt),string:new Ee}};var ze=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Pe=function(t,e){var n=t.__data__;return ze(e)?n["string"==typeof e?"string":"hash"]:n.map};var Me=function(t){var e=Pe(this,t).delete(t);return this.size-=e?1:0,e};var Be=function(t){return Pe(this,t).get(t)};var Ne=function(t){return Pe(this,t).has(t)};var Te=function(t,e){var n=Pe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function De(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}De.prototype.clear=Se,De.prototype.delete=Me,De.prototype.get=Be,De.prototype.has=Ne,De.prototype.set=Te;var Fe=De;var Ie=function(t,e){var n=this.__data__;if(n instanceof Yt){var r=n.__data__;if(!me||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fe(r)}return n.set(t,e),this.size=n.size,this};function qe(t){var e=this.__data__=new Yt(t);this.size=e.size}qe.prototype.clear=te,qe.prototype.delete=ee,qe.prototype.get=ne,qe.prototype.has=oe,qe.prototype.set=Ie;var We=qe;var Le=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var Re=function(t){return this.__data__.has(t)};function Ge(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Fe;++e<n;)this.add(t[e])}Ge.prototype.add=Ge.prototype.push=Le,Ge.prototype.has=Re;var Ue=Ge;var Ve=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var He=function(t,e){return t.has(e)};var Ze=function(t,e,n,r,o,i){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,h=!0,d=2&n?new Ue:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var v=t[f],p=e[f];if(r)var g=a?r(p,v,f,e,t,i):r(v,p,f,t,e,i);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!Ve(e,(function(t,e){if(!He(d,e)&&(v===t||o(v,t,n,r,i)))return d.push(e)}))){h=!1;break}}else if(v!==p&&!o(v,p,n,r,i)){h=!1;break}}return i.delete(t),i.delete(e),h},Je=at.Uint8Array;var Ke=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};var Qe=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Xe=ut?ut.prototype:void 0,Ye=Xe?Xe.valueOf:void 0;var tn=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Je(t),new Je(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return et(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Ke;case"[object Set]":var c=1&r;if(u||(u=Qe),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var l=Ze(u(t),u(e),r,o,i,a);return a.delete(t),l;case"[object Symbol]":if(Ye)return Ye.call(t)==Ye.call(e)}return!1};var en=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},nn=Array.isArray;var rn=function(t,e,n){var r=e(t);return nn(t)?r:en(r,n(t))};var on=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i};var an=function(){return[]},un=Object.prototype.propertyIsEnumerable,cn=Object.getOwnPropertySymbols,sn=cn?function(t){return null==t?[]:(t=Object(t),on(cn(t),(function(e){return un.call(t,e)})))}:an;var ln=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var fn=function(t){return kt(t)&&"[object Arguments]"==gt(t)},hn=Object.prototype,dn=hn.hasOwnProperty,vn=hn.propertyIsEnumerable,pn=fn(function(){return arguments}())?fn:function(t){return kt(t)&&dn.call(t,"callee")&&!vn.call(t,"callee")};var gn=function(){return!1},bn=rt((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,o=r&&r.exports===n?at.Buffer:void 0,i=(o?o.isBuffer:void 0)||gn;t.exports=i})),yn={};yn["[object Float32Array]"]=yn["[object Float64Array]"]=yn["[object Int8Array]"]=yn["[object Int16Array]"]=yn["[object Int32Array]"]=yn["[object Uint8Array]"]=yn["[object Uint8ClampedArray]"]=yn["[object Uint16Array]"]=yn["[object Uint32Array]"]=!0,yn["[object Arguments]"]=yn["[object Array]"]=yn["[object ArrayBuffer]"]=yn["[object Boolean]"]=yn["[object DataView]"]=yn["[object Date]"]=yn["[object Error]"]=yn["[object Function]"]=yn["[object Map]"]=yn["[object Number]"]=yn["[object Object]"]=yn["[object RegExp]"]=yn["[object Set]"]=yn["[object String]"]=yn["[object WeakMap]"]=!1;var mn=function(t){return kt(t)&&mt(t.length)&&!!yn[gt(t)]};var _n=function(t){return function(e){return t(e)}},$n=rt((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,o=r&&r.exports===n&&ot.process,i=function(){try{var t=r&&r.require&&r.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i})),xn=$n&&$n.isTypedArray,jn=xn?_n(xn):mn,wn=Object.prototype.hasOwnProperty;var An=function(t,e){var n=nn(t),r=!n&&pn(t),o=!n&&!r&&bn(t),i=!n&&!r&&!o&&jn(t),a=n||r||o||i,u=a?ln(t.length,String):[],c=u.length;for(var s in t)!e&&!wn.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||xt(s,c))||u.push(s);return u},On=Object.prototype;var Cn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||On)};var kn=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),En=Object.prototype.hasOwnProperty;var Sn=function(t){if(!Cn(t))return kn(t);var e=[];for(var n in Object(t))En.call(t,n)&&"constructor"!=n&&e.push(n);return e};var zn=function(t){return _t(t)?An(t):Sn(t)};var Pn=function(t){return rn(t,zn,sn)},Mn=Object.prototype.hasOwnProperty;var Bn=function(t,e,n,r,o,i){var a=1&n,u=Pn(t),c=u.length;if(c!=Pn(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:Mn.call(e,l)))return!1}var f=i.get(t),h=i.get(e);if(f&&h)return f==e&&h==t;var d=!0;i.set(t,e),i.set(e,t);for(var v=a;++s<c;){var p=t[l=u[s]],g=e[l];if(r)var b=a?r(g,p,l,e,t,i):r(p,g,l,t,e,i);if(!(void 0===b?p===g||o(p,g,n,r,i):b)){d=!1;break}v||(v="constructor"==l)}if(d&&!v){var y=t.constructor,m=e.constructor;y==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(t),i.delete(e),d},Nn=ye(at,"DataView"),Tn=ye(at,"Promise"),Dn=ye(at,"Set"),Fn=ye(at,"WeakMap"),In="[object Map]",qn="[object Promise]",Wn="[object Set]",Ln="[object WeakMap]",Rn="[object DataView]",Gn=se(Nn),Un=se(me),Vn=se(Tn),Hn=se(Dn),Zn=se(Fn),Jn=gt;(Nn&&Jn(new Nn(new ArrayBuffer(1)))!=Rn||me&&Jn(new me)!=In||Tn&&Jn(Tn.resolve())!=qn||Dn&&Jn(new Dn)!=Wn||Fn&&Jn(new Fn)!=Ln)&&(Jn=function(t){var e=gt(t),n="[object Object]"==e?t.constructor:void 0,r=n?se(n):"";if(r)switch(r){case Gn:return Rn;case Un:return In;case Vn:return qn;case Hn:return Wn;case Zn:return Ln}return e});var Kn=Jn,Qn="[object Arguments]",Xn="[object Array]",Yn="[object Object]",tr=Object.prototype.hasOwnProperty;var er=function(t,e,n,r,o,i){var a=nn(t),u=nn(e),c=a?Xn:Kn(t),s=u?Xn:Kn(e),l=(c=c==Qn?Yn:c)==Yn,f=(s=s==Qn?Yn:s)==Yn,h=c==s;if(h&&bn(t)){if(!bn(e))return!1;a=!0,l=!1}if(h&&!l)return i||(i=new We),a||jn(t)?Ze(t,e,n,r,o,i):tn(t,e,c,n,r,o,i);if(!(1&n)){var d=l&&tr.call(t,"__wrapped__"),v=f&&tr.call(e,"__wrapped__");if(d||v){var p=d?t.value():t,g=v?e.value():e;return i||(i=new We),o(p,g,n,r,i)}}return!!h&&(i||(i=new We),Bn(t,e,n,r,o,i))};var nr=function t(e,n,r,o,i){return e===n||(null==e||null==n||!kt(e)&&!kt(n)?e!=e&&n!=n:er(e,n,r,o,t,i))};var rr=function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=n[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new We;if(r)var h=r(s,l,c,t,e,f);if(!(void 0===h?nr(l,s,3,r,f):h))return!1}}return!0};var or=function(t){return t==t&&!bt(t)};var ir=function(t){for(var e=zn(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,or(o)]}return e};var ar=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};var ur=function(t){var e=ir(t);return 1==e.length&&e[0][2]?ar(e[0][0],e[0][1]):function(n){return n===t||rr(n,t,e)}},cr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sr=/^\w*$/;var lr=function(t,e){if(nn(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Et(t))||(sr.test(t)||!cr.test(t)||null!=e&&t in Object(e))};function fr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(fr.Cache||Fe),n}fr.Cache=Fe;var hr=fr;var dr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vr=/\\(\\)?/g,pr=function(t){var e=hr(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(dr,(function(t,n,r,o){e.push(r?o.replace(vr,"$1"):n||t)})),e}));var gr=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},br=ut?ut.prototype:void 0,yr=br?br.toString:void 0;var mr=function t(e){if("string"==typeof e)return e;if(nn(e))return gr(e,t)+"";if(Et(e))return yr?yr.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};var _r=function(t){return null==t?"":mr(t)};var $r=function(t,e){return nn(t)?t:lr(t,e)?[t]:pr(_r(t))};var xr=function(t){if("string"==typeof t||Et(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var jr=function(t,e){for(var n=0,r=(e=$r(e,t)).length;null!=t&&n<r;)t=t[xr(e[n++])];return n&&n==r?t:void 0};var wr=function(t,e,n){var r=null==t?void 0:jr(t,e);return void 0===r?n:r};var Ar=function(t,e){return null!=t&&e in Object(t)};var Or=function(t,e,n){for(var r=-1,o=(e=$r(e,t)).length,i=!1;++r<o;){var a=xr(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&mt(o)&&xt(a,o)&&(nn(t)||pn(t))};var Cr=function(t,e){return null!=t&&Or(t,e,Ar)};var kr=function(t,e){return lr(t)&&or(e)?ar(xr(t),e):function(n){var r=wr(n,t);return void 0===r&&r===e?Cr(n,t):nr(e,r,3)}};var Er=function(t){return t};var Sr=function(t){return function(e){return null==e?void 0:e[t]}};var zr=function(t){return function(e){return jr(e,t)}};var Pr=function(t){return lr(t)?Sr(xr(t)):zr(t)};var Mr=function(t){return"function"==typeof t?t:null==t?Er:"object"==typeof t?nn(t)?kr(t[0],t[1]):ur(t):Pr(t)};var Br=function(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n};const Nr={range:Dt,random:Gt,sumBy:function(t,e){return t&&t.length?Br(t,Mr(e)):0}},Tr=t=>!t.bomb&&!t.flagged,Dr=t=>t.flagged?"ðŸš©ï¸":t.explored?t.bomb?"ðŸ’£":t.bombsAround>0?t.bombsAround+"":"":"";var Fr;!function(t){t[t.Created=0]="Created",t[t.Started=1]="Started",t[t.GameOver=2]="GameOver",t[t.Win=3]="Win"}(Fr||(Fr={}));class Ir{constructor(t,e){if(this.initGame=t=>{t.forceSafe=!0,this.getCellsAround(t).forEach((t=>t.forceSafe=!0)),this.initBombs(),this.populateNumbers()},this.checkWin=()=>{if(this.status!==Fr.Started)return;this.flagged+this.explored===this.nCells&&(this.status=Fr.Win)},this.intToPoint=t=>{const e=t%this.nCells;return{y:Math.floor(e/this.dimensions.x),x:e%this.dimensions.x}},this.inBounds=t=>Q.isInBounds(t,this.dimensions),this.populateNumbers=()=>{const t=t=>this.getCell(t).bomb,e=e=>this.inBounds(e)&&t(e);this.matrix.forEach((t=>{t.forEach((t=>{t.bomb||(t.bombsAround=Q.getPointsAround(t.p).filter(e).length)}))}))},this.autoDiscoverFrom=t=>{this.getCellsAround(t).forEach((t=>{!t.explored&&Tr(t)&&(t.explored=!0,this.explored+=1,0===t.bombsAround&&this.autoDiscoverFrom(t))}))},this.getCell=t=>this.matrix[t.y][t.x],this.toggleFlag=t=>{if(this.status===Fr.Started&&!t.explored){if(!t.flagged&&this.flagged===this.bombs)return;t.flagged=!t.flagged,this.flagged+=t.flagged?1:-1,this.checkWin()}},this.getCellsAround=t=>Q.getPointsAround(t.p).filter(this.inBounds).map((t=>this.getCell(t))),this.exploreAround=t=>{if(t.explored&&t.bombsAround){const e=this.getCellsAround(t);Nr.sumBy(e,(t=>t.flagged?1:0))===t.bombsAround&&e.forEach((t=>{t.explored||t.flagged||this.discover(t)}))}},this.highlightCellsAround=t=>{this.getCellsAround(t).forEach((t=>{t.explored||t.flagged||(t.highlight=!0)}))},this.removeHighlight=t=>{this.getCellsAround(t).forEach((t=>{t.highlight=!1}))},!Q.isPositive(t))throw new Error("Dimensions must be positive");if(e<0)throw new Error("Number of bombs must be positive");if(e>=Q.area(t)/3)throw new Error("Too many bombs");this.dimensions=t,this.nCells=Q.area(this.dimensions),this.bombs=e,this.flagged=0,this.explored=0,this.status=Fr.Created,this.buildMatrix()}buildMatrix(){this.matrix=Nr.range(this.dimensions.y).map((t=>Nr.range(this.dimensions.x).map((e=>({bomb:!1,explode:!1,bombsAround:0,explored:!1,flagged:!1,highlight:!1,forceSafe:!1,p:Z(e,t)})))))}initBombs(){let t=this.bombs,e=0;for(;0!==t;){e+=Nr.random(97);const n=this.intToPoint(e),r=this.matrix[n.y][n.x];r.bomb||r.forceSafe||(r.bomb=!0,t-=1)}}discover(t){this.status===Fr.GameOver||t.explored||(this.status===Fr.Created&&(this.initGame(t),this.status=Fr.Started),t.explored=!0,this.explored+=1,t.bomb?(t.explode=!0,this.status=Fr.GameOver):Tr(t)&&0===t.bombsAround&&this.autoDiscoverFrom(t),this.checkWin())}}function qr(e){let n,o,i,a,u,s,l;return{c(){n=g("td"),o=b(e[1]),i=y(),a=g("div"),_(a,"class","bubble svelte-tr6got"),x(a,"hidden",e[0].explored),_(n,"class",u=c(`container number-${e[1]}`)+" svelte-tr6got"),x(n,"explosion",e[0].explode),x(n,"highlight",e[0].highlight)},m(t,r){d(t,n,r),h(n,o),h(n,i),h(n,a),s||(l=[m(n,"click",e[2]),m(n,"dblclick",e[3]),m(n,"mousedown",e[4])],s=!0)},p(t,[e]){2&e&&$(o,t[1]),1&e&&x(a,"hidden",t[0].explored),2&e&&u!==(u=c(`container number-${t[1]}`)+" svelte-tr6got")&&_(n,"class",u),3&e&&x(n,"explosion",t[0].explode),3&e&&x(n,"highlight",t[0].highlight)},i:t,o:t,d(t){t&&v(n),s=!1,r(l)}}}function Wr(t,e,n){let r,{data:o}=e,{onClick:i}=e,{onRightClick:a}=e,{onDoubleClick:u}=e;return t.$$set=t=>{"data"in t&&n(0,o=t.data),"onClick"in t&&n(5,i=t.onClick),"onRightClick"in t&&n(6,a=t.onRightClick),"onDoubleClick"in t&&n(7,u=t.onDoubleClick)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=Dr(o))},[o,r,t=>{2!==t.buttons&&i(o)},()=>{u(o)},t=>{2===t.button&&a(o),3===t.buttons&&u(o)},i,a,u]}class Lr extends H{constructor(t){super(),V(this,t,Wr,qr,i,{data:0,onClick:5,onRightClick:6,onDoubleClick:7})}}var Rr="1.1.0";function Gr(t,e,n){const r=t.slice();return r[13]=e[n],r}function Ur(t,e,n){const r=t.slice();return r[16]=e[n],r}function Vr(t){let e,n;return e=new Lr({props:{data:t[16],onClick:t[6],onRightClick:t[7],onDoubleClick:t[8]}}),{c(){L(e.$$.fragment)},m(t,r){R(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.data=t[16]),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Hr(t){let e,n,r,o=t[13],i=[];for(let e=0;e<o.length;e+=1)i[e]=Vr(Ur(t,o,e));const a=t=>W(i[t],1,1,(()=>{i[t]=null}));return{c(){e=g("tr");for(let t=0;t<i.length;t+=1)i[t].c();n=y()},m(t,o){d(t,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);h(e,n),r=!0},p(t,r){if(449&r){let u;for(o=t[13],u=0;u<o.length;u+=1){const a=Ur(t,o,u);i[u]?(i[u].p(a,r),q(i[u],1)):(i[u]=Vr(a),i[u].c(),q(i[u],1),i[u].m(e,n))}for(F(),u=o.length;u<i.length;u+=1)a(u);I()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)q(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)W(i[t]);r=!1},d(t){t&&v(e),p(i,t)}}}function Zr(t){let e,n,o,i,a,u,c,s,l,f,j,w,A,O,C,k,E,S,z,P,M,B,N=t[0].matrix,T=[];for(let e=0;e<N.length;e+=1)T[e]=Hr(Gr(t,N,e));const D=t=>W(T[t],1,1,(()=>{T[t]=null}));return{c(){e=g("div"),n=g("h1"),n.textContent="MINESWEEPER!",o=y(),i=g("div"),a=g("span"),u=b(t[1]),c=y(),s=g("span"),l=b(t[4]),f=y(),j=g("div"),w=g("table"),A=g("tbody");for(let t=0;t<T.length;t+=1)T[t].c();O=y(),C=g("div"),C.innerHTML='<span class="svelte-19cqad1">WIN</span>',k=y(),E=g("span"),E.textContent=`${t[5]}`,S=y(),z=g("button"),z.textContent="Theme",_(n,"class","svelte-19cqad1"),_(a,"class","face svelte-19cqad1"),_(i,"class","svelte-19cqad1"),x(i,"hidden",t[2]),_(e,"class","row svelte-19cqad1"),_(w,"class","table svelte-19cqad1"),_(C,"class","win svelte-19cqad1"),x(C,"hidden",!t[3]),_(j,"class","app svelte-19cqad1"),_(E,"class","version svelte-19cqad1"),_(z,"class","toggle svelte-19cqad1")},m(r,v){d(r,e,v),h(e,n),h(e,o),h(e,i),h(i,a),h(a,u),h(i,c),h(i,s),h(s,l),d(r,f,v),d(r,j,v),h(j,w),h(w,A);for(let t=0;t<T.length;t+=1)T[t].m(A,null);h(j,O),h(j,C),d(r,k,v),d(r,E,v),d(r,S,v),d(r,z,v),P=!0,M||(B=[m(w,"mouseup",t[9]),m(z,"click",t[10])],M=!0)},p(t,[e]){if((!P||2&e)&&$(u,t[1]),(!P||16&e)&&$(l,t[4]),4&e&&x(i,"hidden",t[2]),449&e){let n;for(N=t[0].matrix,n=0;n<N.length;n+=1){const r=Gr(t,N,n);T[n]?(T[n].p(r,e),q(T[n],1)):(T[n]=Hr(r),T[n].c(),q(T[n],1),T[n].m(A,null))}for(F(),n=N.length;n<T.length;n+=1)D(n);I()}8&e&&x(C,"hidden",!t[3])},i(t){if(!P){for(let t=0;t<N.length;t+=1)q(T[t]);P=!0}},o(t){T=T.filter(Boolean);for(let t=0;t<T.length;t+=1)W(T[t]);P=!1},d(t){t&&v(e),t&&v(f),t&&v(j),p(T,t),t&&v(k),t&&v(E),t&&v(S),t&&v(z),M=!1,r(B)}}}function Jr(t,e,n){let r,o,i,a,u,c=new Ir(Z(30,16),99),s=`v${Rr}`;const{toggle:l}=(f="theme",w().$$.context.get(f));var f;return t.$$.update=()=>{1&t.$$.dirty&&n(1,r=c.status===Fr.GameOver?"ðŸ˜­":"ðŸ˜ƒ"),1&t.$$.dirty&&n(2,o=c.status===Fr.Created),1&t.$$.dirty&&n(3,i=c.status===Fr.Win),1&t.$$.dirty&&n(4,a=`${c.flagged}/${c.bombs}`)},[c,r,o,i,a,s,t=>{c.discover(t),n(0,c)},t=>{t.explored&&t.bombsAround?(u=t,c.highlightCellsAround(t)):c.toggleFlag(t),n(0,c)},t=>{c.exploreAround(t),n(0,c)},t=>{2===t.button&&u&&(c.removeHighlight(u),n(0,c))},()=>l()]}class Kr extends H{constructor(t){super(),V(this,t,Jr,Zr,i,{})}}function Qr(t){let e,n,r,o;const i=t[2].default,c=function(t,e,n,r){if(t){const o=a(t,e,n,r);return t[0](o)}}(i,t,t[1],null);return{c(){e=g("main"),c&&c.c(),_(e,"class","svelte-k398lu")},m(i,a){d(i,e,a),c&&c.m(e,null),n=!0,r||(o=m(e,"contextmenu",t[0]),r=!0)},p(t,[e]){c&&c.p&&(!n||2&e)&&u(c,i,t,t[1],n?e:-1,null,null)},i(t){n||(q(c,t),n=!0)},o(t){W(c,t),n=!1},d(t){t&&v(e),c&&c.d(t),r=!1,o()}}}function Xr(t,e,n){let{$$slots:r={},$$scope:o}=e;const i=()=>{window.document.body.classList.toggle("dark")};var a,u;return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&i(),a="theme",u={toggle:i},w().$$.context.set(a,u),t.$$set=t=>{"$$scope"in t&&n(1,o=t.$$scope)},[t=>{t.preventDefault()},o,r]}class Yr extends H{constructor(t){super(),V(this,t,Xr,Qr,i,{})}}function to(t){let e,n;return e=new Kr({}),{c(){L(e.$$.fragment)},m(t,r){R(e,t,r),n=!0},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function eo(t){let e,n;return e=new Yr({props:{$$slots:{default:[to]},$$scope:{ctx:t}}}),{c(){L(e.$$.fragment)},m(t,r){R(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){W(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}return new class extends H{constructor(t){super(),V(this,t,null,eo,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
